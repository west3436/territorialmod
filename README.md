# Territorial Configuration Wiki

This page explains how to configure the Territorial mod for Minecraft 1.20.1.

## Overview

Territorial controls where crops can grow and animals can breed based on biomes, coordinates, temperature, and dimensions. Configuration is done through TOML files in the `config/` directory.

## Configuration Files

| File | Purpose |
|------|---------|
| `config/territorial-common.toml` | Global feature toggles (auto-generated by Forge) |
| `config/territorial-rules.toml` | Event rules for plant growth and animal breeding |

## Global Options

Set in `territorial-common.toml`:

```toml
enablePlantGrowthControl = true    # Enable plant growth rules
enableAnimalBreedingControl = true # Enable animal breeding rules
enableBiomeControl = true          # Enable biome-based filtering
enableCoordinateControl = true     # Enable coordinate-based filtering
enableDynmapIntegration = true     # Show rules on Dynmap
debugLogging = false               # Enable debug output
giveAlmanacOnFirstJoin = false     # Give Farmer's Almanac to new players
```

## Rule Configuration

Rules are defined in `territorial-rules.toml` under `[plant_growth]` or `[animal_breeding]` sections.

### Rule Fields

| Field | Type | Description |
|-------|------|-------------|
| `enabled` | boolean | Whether this rule is active |
| `allow` | boolean | `true` = allow event, `false` = block event |
| `biomes` | list | Biome IDs (e.g., `["minecraft:plains"]`) |
| `temperature_min` | float | Minimum temperature (-0.5 to 2.0) |
| `temperature_max` | float | Maximum temperature (-0.5 to 2.0) |
| `x_min`, `x_max` | integer | X coordinate range |
| `y_min`, `y_max` | integer | Y coordinate range |
| `z_min`, `z_max` | integer | Z coordinate range |
| `dimensions` | list | Dimension whitelist (e.g., `["minecraft:overworld"]`) |
| `dimensions_blacklist` | list | Dimension blacklist |
| `crop_types` | list | Plant growth only: crop IDs to match |
| `animal_types` | list | Animal breeding only: entity IDs to match |

### Temperature Reference

| Temperature | Climate | Biomes |
|-------------|---------|--------|
| -0.5 to 0.0 | Cold | Snowy Plains, Frozen Peaks |
| 0.0 to 0.5 | Cool | Taiga, Old Growth Spruce |
| 0.5 to 1.0 | Temperate | Plains, Forest, River |
| 1.0 to 1.5 | Warm | Savanna, Jungle |
| 1.5 to 2.0 | Hot | Desert, Badlands |

## Examples

### Block wheat in hot biomes

```toml
[[plant_growth.rules]]
    enabled = true
    crop_types = ["minecraft:wheat"]
    temperature_min = 1.5
    allow = false
```

### No farming within 500 blocks of spawn

```toml
[[plant_growth.rules]]
    enabled = true
    x_min = -500
    x_max = 500
    z_min = -500
    z_max = 500
    allow = false
```

### Allow cows to breed only in plains

```toml
[[animal_breeding.rules]]
    enabled = true
    animal_types = ["minecraft:cow"]
    biomes = ["minecraft:plains"]
    allow = true

[[animal_breeding.rules]]
    enabled = true
    animal_types = ["minecraft:cow"]
    allow = false
```

### Nether-only mushroom growth

```toml
[[plant_growth.rules]]
    enabled = true
    crop_types = ["minecraft:red_mushroom", "minecraft:brown_mushroom"]
    dimensions = ["minecraft:the_nether"]
    allow = true

[[plant_growth.rules]]
    enabled = true
    crop_types = ["minecraft:red_mushroom", "minecraft:brown_mushroom"]
    allow = false
```

## Rule Precedence

When multiple rules match, more specific rules take priority:

1. Coordinate-based rules (highest priority)
2. Temperature-based rules
3. Biome-based rules
4. Global rules (lowest priority)

If no rules match, events are allowed by default.

## Commands

All commands require OP level 2.

| Command | Description |
|---------|-------------|
| `/territorial reload` | Reload configuration from disk |
| `/territorial rules [type]` | List rules (`all`, `plant_growth`, `animal_breeding`) |

## Farmer's Almanac

An in-game book that displays all active rules.

**Crafting:**
```
    Paper
Ink - Book - Ink
    Paper
```

Right-click to view current rules in a readable format.

## Dynmap Integration

When Dynmap-Forge is installed, coordinate-based rules appear as colored regions on the map:
- Green/Red: Plant growth allowed/blocked
- Blue/Orange: Animal breeding allowed/blocked

## Troubleshooting

1. Run `/territorial rules all` to verify rules loaded
2. Enable debug logging in `config/territorial-common.toml`: `debugLogging = true`
3. Reload with `/territorial reload`
4. Check `logs/latest.log` for errors

